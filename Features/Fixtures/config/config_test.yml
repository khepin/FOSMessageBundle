framework:
    #esi:             ~
    secret:          none
    router:
        resource: "%kernel.root_dir%/config/routing.yml"
        strict_requirements: %kernel.debug%
    form:            true
    csrf_protection: true
    validation:      { enable_annotations: true }
    templating:      { engines: ['twig'] } #assets_version: SomeVersionScheme
    session:
        handler_id: session.storage.mock_file
    trust_proxy_headers: false
    test: ~

# Twig Configuration
twig:
    debug:            %kernel.debug%
    strict_variables: %kernel.debug%

monolog:
    handlers:
        main:
            type:  stream
            path:  %kernel.logs_dir%/%kernel.environment%.log
            level: debug
        firephp:
            type:  firephp
            level: info

doctrine_mongodb:
    connections:
        default:
            server: mongodb://localhost:27017
            options:
                connect: true
    default_database: fosmessage
    document_managers:
        default:
            auto_mapping: true
            mappings:
                FOSMessageBundle: ~

fos_message:
    db_driver:  mongodb
    thread_class: FOS\MessageBundle\Features\Fixtures\Thread
    message_class: FOS\MessageBundle\Features\Fixtures\Message

fos_user:
    db_driver: mongodb # other valid values are 'mongodb', 'couchdb' and 'propel'
    firewall_name: main
    user_class: FOS\MessageBundle\Features\Fixtures\User

security:
    encoders:
        "FOS\UserBundle\Model\UserInterface": sha512

    role_hierarchy:
        ROLE_ADMIN:       ROLE_ORGANIZER
        ROLE_ORGANIZER:   ROLE_USER
        ROLE_SUPER_ADMIN: [ROLE_USER, ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH]

    providers:
        fos_userbundle:
            id: fos_user.user_provider.username

    firewalls:
        dev:
            pattern:  ^/(_(profiler|wdt)|css|images|js)/
            security: false

        main:
            pattern: ^/.*
            form_login:
                provider: fos_userbundle
                csrf_provider: form.csrf_provider
                use_referer: true
                check_path: /login_check
            anonymous:    true
            logout: ~
            remember_me:
                key:    %secret%
                lifetime: 864000 # 10 days
                path: /
                domain: ~

    access_control:
        - { path: ^/login, roles: IS_AUTHENTICATED_ANONYMOUSLY }
        - { path: ^/register, roles: IS_AUTHENTICATED_ANONYMOUSLY }
        - { path: ^/, roles: IS_AUTHENTICATED_ANONYMOUSLY }

parameters:
    secret: notthatsecret

swiftmailer:
    spool:     { type: memory }
    disable_delivery: true
# Doctrine Configuration
# doctrine:
#     dbal:
#         driver:   %database_driver%
#         host:     %database_host%
#         port:     %database_port%
#         dbname:   %database_name%
#         user:     %database_user%
#         password: %database_password%
#         charset:  UTF8

#     orm:
#         auto_generate_proxy_classes: %kernel.debug%
#         auto_mapping: true